var vg;(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(...e){const t=e=>e&&"object"==typeof e;return e.reduce(((e,o)=>(Object.keys(o).forEach((r=>{const s=e[r],i=o[r];Array.isArray(s)&&Array.isArray(i)?e[r]=s.concat(...i):t(s)&&t(i)?e[r]=n(s,i):e[r]=i})),e)),{})}function o(e,t=!1){if(!e)return!1;let n={},o=[].filter.call(e.attributes,(function(e){return/^data-/.test(e.name)}));return o.length&&o.forEach((function(e){let o=e.name;t&&(o=-1===o.indexOf("vg")?o.slice(5):o.slice(8)),n[o]=e.value})),n}function r(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}e.r(t),e.d(t,{VGSidebar:()=>d});const s=e=>e&&"object"==typeof e,i=function(e,t,n={}){const o=new CustomEvent(t,{bubbles:!0,detail:n});e.dispatchEvent(o)};const l={backdrop:!0,overflow:!0,keyboard:!0,ajax:{route:"",target:""}};let c=!1;class a{constructor(e,t={}){if(this.element=null,this.cross='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve"><path d="M89.7,10.3L89.7,10.3c-1-1-2.6-1-3.5,0L50,46.5L13.9,10.3c-1-1-2.6-1-3.5,0l0,0c-1,1-1,2.6,0,3.5L46.5,50L10.3,86.1\tc-1,1-1,2.6,0,3.5h0c1,1,2.6,1,3.5,0L50,53.5l36.1,36.1c1,1,2.6,1,3.5,0l0,0c1-1,1-2.6,0-3.5L53.5,50l36.1-36.1\tC90.6,12.9,90.6,11.3,89.7,10.3z"/></svg>',!e)return console.error("Первый параметр не должен быть пустым"),!1;if("string"==typeof e){let t=document.getElementById(e);t?this.element=t:console.error("В строке должен быть идентификатор боковой панели")}else this.element=e;this.element&&(this.settings=function(e,t,i){let l=n(t,i,o(e,!0));if(s(l)&&!r(l))for(const e in l){let n=l[e];if("null"===n&&(n=null),"true"===n&&(n=!0),"false"===n&&(n=!1),"params"!==e)if(e in t)l[e]=n;else{let o=e.split("-");o[1]in t[o[0]]&&(t[o[0]][o[1]]=n),delete l[e]}else c(n),delete l[e]}function c(e){!function(e){try{e=JSON.parse(e)}catch(e){return!1}return e}(e)?s(e)&&!r(e)&&(l=n(l,e)):c(e=JSON.parse(e))}return l}(this.element,l,t),this.init())}init(){const e=this;let t=e.element.querySelector(".vg-sidebar-close");t&&(t.querySelector("svg")||t.insertAdjacentHTML("beforeend",e.cross))}toggle(){return c?this.hide():this.show()}show(){const e=this;c||(c=!0,i(e.element,"vg.sidebar.show"),e._backdrop(),e._overflow(),e.element.classList.add("show"),setTimeout((()=>{e.settings.ajax.route&&e.settings.ajax.target&&e._route(),i(e.element,"vg.sidebar.shown")}),50),e._addEventListener())}hide(){const e=this;c&&(c=!1,i(e.element,"vg.sidebar.hide"),e._backdrop(),e._overflow(),e.element.classList.remove("show"),setTimeout((()=>{i(e.element,"vg.sidebar.hidden")}),50))}static getInstance(e,t={}){return new a(e,t)}_backdrop(){let e=document.querySelector(".vg-sidebar-backdrop");this.settings.backdrop&&(e?e.remove():(e=document.createElement("div"),e.classList.add("vg-sidebar-backdrop"),document.body.append(e),setTimeout((()=>{e.classList.add("fade")}),50)))}_overflow(){this.settings.overflow&&(c?(document.body.style.overflow="hidden",document.body.style.paddingRight=function(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}()+"px"):(document.body.style.overflow="",document.body.style.paddingRight=""))}_addEventListener(){const e=this;let t=document.querySelector(".vg-sidebar-backdrop");t&&(t.onclick=function(){return e.hide(),!1}),[...document.querySelectorAll('[data-vg-dismiss="sidebar"]')].forEach((function(e){e.onclick=function(){let t=e.dataset.vgTarget||e.closest(".vg-sidebar").id||null;return t&&(-1!==t.indexOf("#")&&(t=t.slice(1)),a.getInstance(t).hide()),!1}})),e.settings.keyboard&&(document.onkeyup=function(t){return"Escape"===t.key&&e.hide(),!1})}_route(){const e=this;let t=document.querySelector(e.settings.ajax.target);if(t){let t=new XMLHttpRequest;t.open("get",e.settings.ajax.route,!0),t.onload=function(){n(t.responseText)},t.send()}const n=e=>{t.innerHTML=e}}}[...document.querySelectorAll('[data-vg-toggle="sidebar"]')].forEach((function(e){e.onclick=function(){let t=o(e,!0),n=t.target||e.getAttribute("href")||null;return delete t.target,delete t.toggle,n&&"string"==typeof n&&(n=n.slice(1),new a(n,t).toggle()),!1}}));const d=a;vg=t})();
//# sourceMappingURL=vgsidebar.js.map