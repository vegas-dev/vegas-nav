// @vegas-VGFlipList v3.2.6
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,(function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var r=function(){function e(s){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,e),!s)return console.error("Comrade! The first parameter should not be empty!"),!1;var o={target:[]},i={};if("string"==typeof s)o.container=a(s);else{if("object"!==t(s))return console.error("CAP! Some kind of game flew to us"),!1;o.container=s,i=l(s,!0)}function a(e){return!!e&&document.querySelector(e)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;var n={},s=[].filter.call(e.attributes,(function(e){return/^data-/.test(e.name)}));return s.length&&s.forEach((function(e){var s=e.name;t&&(s=s.slice(5)),n[s]=e.value})),n}this.settings=Object.assign({},i,o,r),this.classes={container:"vg-flip-list",open:"open",closed:"closed",back:"vg-flip-list--back",toggle:"vg-flip-list--toggle",parent:"vg-flip-list--parent",dropdown:"vg-flip-list--dropdown"},this.isInit=!1,this.isInit||this.init()}var r,o,i;return r=e,(o=[{key:"init",value:function(){var e=this;e.settings.container.classList.add(e.classes.container);var t=[];if(e.settings.target.length)t=e.settings.target;else{var n=e.settings.container.querySelectorAll('[data-vg-toggle="flip-list"]');if(!n.length)return!1;t=Array.prototype.slice.call(n)}t.forEach((function(t){t.classList.add(e.classes.toggle);var n=t.nextElementSibling;if("UL"===n.tagName){var s=document.createElement("li"),r=document.createElement("a");r.setAttribute("href","#"),r.classList.add(e.classes.back),r.innerText="Back",s.prepend(r),n.prepend(s)}else if(n.classList.contains("dropdown-mega-container")){var o=document.createElement("div"),i=document.createElement("a");i.setAttribute("href","#"),i.classList.add(e.classes.back),i.innerText="Назад",o.prepend(i),n.prepend(o)}})),e.isInit=!0,e.toggle()}},{key:"toggle",value:function(){if(!this.isInit)return!1;var e=this;return e.listener("click","."+e.classes.toggle,(function(t){var n=t.parentElement;n.parentElement.classList.add(e.classes.closed);var s=e.settings.container.querySelectorAll("."+e.classes.open);return s.length&&s.forEach((function(t){return t.classList.remove(e.classes.open)})),n.classList.add(e.classes.open),!1})),e.listener("click","."+e.classes.back,(function(t){var n=t.closest("."+e.classes.open),s=t.closest("."+e.classes.closed);n.classList.remove(e.classes.open),s.classList.remove(e.classes.closed);var r=s.closest(".dropdown");return r&&r.classList.add(e.classes.open),!1})),!1}},{key:"listener",value:function(e,t,n){document.addEventListener(e,(function(e){for(var s=document.body.querySelectorAll(t),r=e.target,o=-1;r&&-1===(o=Array.prototype.indexOf.call(s,r));)r=r.parentElement;o>-1&&function(){"function"==typeof n&&n(r,e),e.preventDefault()}.call(r,e)}))}}])&&s(r.prototype,o),i&&s(r,i),Object.defineProperty(r,"prototype",{writable:!1}),e}();e.VGFlipList=r}));
