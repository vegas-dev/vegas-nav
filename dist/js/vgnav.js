(function(s){"use strict";s.fn.vegasMenu=function(a){a=s.extend({},arguments[0]||{});var e=this,n=e.children("ul"),r=s("body");var l="vg-nav-hamburger",t="vg-nav-sidebar",i="vg-nav-overlay";var d="vg-nav-main-container",o="show";n.addClass(d);v();s(document).on("click","li.dropdown a",function(){var a=s(this),e=a.parent("li");s(".dropdown-mega").removeClass(o);if(e.parent("ul").hasClass(d)){var r=n.find("."+o);if(r.hasClass("current"))r.removeClass(o);if(!e.hasClass("current")){e.addClass(o).addClass("current");r.removeClass("current")}else{e.removeClass(o).removeClass("current")}return false}else{if(e.hasClass(o)){a.parent("li").removeClass(o);if(e.parent("ul").hasClass(d)){n.find("."+o).removeClass(o)}}else{if(a.parent("li").children("ul").length>0){a.parent("li").addClass(o);return false}}}});s(document).on("click","li.dropdown-mega > a",function(){var a=s(this);var e=a.parent("li");if(e.hasClass(o)){e.removeClass(o)}else{n.find("."+o).removeClass(o).removeClass("current");e.addClass(o)}return false});s(document).mouseup(function(a){var e=s("."+d);if(e.has(a.target).length===0){n.find("."+o).removeClass(o).removeClass("current")}});s(document).on("click","."+l+", ."+i+", ."+t+"__close",function(){r.find("."+l).toggleClass(o);r.find("."+t).toggleClass(o);r.find("."+i).toggleClass(o);return false});function v(){var a=r.find(".dropdown-mega > a, .dropdown > a"),d='<span class="toggle"></span>';a.each(function(){var a=s(this).text();s(this).html(a+d)});e.prepend('<a href="#" class="'+l+'"><span></span></a>');r.append('<div class="'+t+'">'+'<div class="'+t+'__close">&times;</div>'+'<div class="'+t+'__content"></div>'+"</div>");r.append('<div class="'+i+'"></div>');var o=n.clone().addClass("vg-nav-cloned");r.find("."+t+"__content").append(o)}return false}})(jQuery);