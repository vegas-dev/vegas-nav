// @vegas-VGFlipList v3.2.12
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,(function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=function(){function e(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,e),!r)return console.error("Comrade! The first parameter should not be empty!"),!1;var s={target:[]},i={};if("string"==typeof r)s.container=l(r);else{if("object"!==t(r))return console.error("CAP! Some kind of game flew to us"),!1;s.container=r,i=c(r,!0)}function l(e){return!!e&&document.querySelector(e)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;var n={},r=[].filter.call(e.attributes,(function(e){return/^data-/.test(e.name)}));return r.length&&r.forEach((function(e){var r=e.name;t&&(r=r.slice(5)),n[r]=e.value})),n}this.settings=a(i,s,o),this.classes={container:"vg-flip-list",open:"open",closed:"closed",back:"vg-flip-list--back",toggle:"vg-flip-list--toggle",parent:"vg-flip-list--parent",dropdown:"vg-flip-list--dropdown"},this.isInit=!1,this.isInit||this.init()}var o,s,i;return o=e,(s=[{key:"init",value:function(){var e=this;e.settings.container.classList.add(e.classes.container);var t=e.settings.container.dataset.textBack||"Back",n=[];if(e.settings.target.length)n=e.settings.target;else{var r=e.settings.container.querySelectorAll('[data-vg-toggle="flip-list"]');if(!r.length)return!1;n=Array.prototype.slice.call(r)}n.forEach((function(n){n.classList.add(e.classes.toggle);var r=n.nextElementSibling;if("UL"===r.tagName){var o=document.createElement("li"),s=document.createElement("a");s.setAttribute("href","#"),s.classList.add(e.classes.back),s.innerText=t,o.prepend(s),r.prepend(o)}else if(r.classList.contains("dropdown-mega-container")){var i=document.createElement("div"),a=document.createElement("a");a.setAttribute("href","#"),a.classList.add(e.classes.back),a.innerText=t,i.prepend(a),r.prepend(i)}})),e.isInit=!0,e.toggle()}},{key:"toggle",value:function(){if(!this.isInit)return!1;var e=this;return e.listener("click","."+e.classes.toggle,(function(t){var n=t.parentElement;n.parentElement.classList.add(e.classes.closed);var r=e.settings.container.querySelectorAll("."+e.classes.open);return r.length&&r.forEach((function(t){return t.classList.remove(e.classes.open)})),n.classList.add(e.classes.open),!1})),e.listener("click","."+e.classes.back,(function(t){var n=t.closest("."+e.classes.open),r=t.closest("."+e.classes.closed);n.classList.remove(e.classes.open),r.classList.remove(e.classes.closed);var o=r.closest(".dropdown");return o&&o.classList.add(e.classes.open),!1})),!1}},{key:"listener",value:function(e,t,n){document.addEventListener(e,(function(e){for(var r=document.body.querySelectorAll(t),o=e.target,s=-1;o&&-1===(s=Array.prototype.indexOf.call(r,o));)o=o.parentElement;s>-1&&function(){"function"==typeof n&&n(o,e),e.preventDefault()}.call(o,e)}))}}])&&r(o.prototype,s),i&&r(o,i),Object.defineProperty(o,"prototype",{writable:!1}),e}();function a(){for(var e=function(e){return e&&"object"===t(e)},n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return r.reduce((function(t,n){return Object.keys(n).forEach((function(r){var s=t[r],i=n[r];Array.isArray(s)&&Array.isArray(i)?t[r]=s.concat.apply(s,o(i)):e(s)&&e(i)?t[r]=a(s,i):t[r]=i})),t}),{})}e.VGFlipList=i}));
